---
title: "Take-home Exercise 2"
author: "KB"
editor: visual
---

![First published on 11-Dec-2022](images/paste-2D0613BA.png)

# Regionalising Nigeria using aspatial and geospatial measures of water points

## 1 Overview 

### 1.1 Setting the Scene

The process of creating regions is called [regionalisation](https://www.researchgate.net/publication/28153673_Supervised_Regionalization_Methods_A_Survey/link/0fcfd5094046b13d35000000/download). A regionalisation is a special kind of clustering where the objective is to group observations which are similar in their statistical attributes, but also in their spatial location. In this sense, regionalization embeds the same logic as standard clustering techniques, but also applies a series of geographical constraints. Often, these constraints relate to connectivity: two candidates can only be grouped together in the same region if there exists a path from one member to another member that never leaves the region. These paths often model the spatial relationships in the data, such as contiguity or proximity. However, connectivity does not always need to hold for all regions, and in certain contexts it makes sense to relax connectivity or to impose different types of geographic constraints.

### 1.2 Objectives

In this assignment, we will regionalise Nigeria by using, but not limited to the following measures:

-   Total number of functional water points

-   Total number of nonfunctional water points

-   Percentage of functional water points

-   Percentage of non-functional water points

-   Percentage of main water point technology (i.e. Hand Pump)

-   Percentage of usage capacity (i.e. \< 1000, \>=1000)

-   Percentage of rural water points

### 1.3 The Data

[Geospatia data]{.underline}

For this assignment, 2 data sets will be used.

1.  geo_export: It contains information on the water points in Nigeria. The data is available from [WPdx Global Data Repositories](https://www.waterpointdata.org/access-data/) and we are using the WPdx+ data set. The data is extracted in shapefile format.

2.  nga_lga2: The contains Nigeria Level-2 Administrative Boundary (also known as Local Government Area (LGA)) polygon features GIS data will be used. The data is downloaded from The [Humanitarian Data Exchange](https://data.humdata.org/) portal.

### 1.4 The Task

The specific tasks of this take-home exercise are as follows:

-   Using appropriate sf method, import the shapefile into R and save it in a simple feature data frame format. Note that there are three Projected Coordinate Systems of Nigeria, they are: EPSG: 26391, 26392, and 26303. You can use any one of them.

-   Using appropriate tidyr and dplyr methods, derive the proportion of functional and non-functional water point at LGA level (i.e. ADM2).

-   Combining the geospatial and aspatial data frame into simple feature data frame.

-   Delineating water point measures functional regions by using conventional hierarchical clustering.

-   Delineating water point measures functional regions by using spatially constrained clustering algorithms.

### 1.5 Thematic Mapping

-   Plot to show the water points measures derived by using appropriate statistical graphics and choropleth mapping technique.

### 1.6 Analytical Mapping

-   Plot functional regions delineated by using both non-spatially constrained and spatially constrained clustering algorithms.

## 2 Setup

### 2.1 Import and load relevant packages into R environment

The R packages that we are using for this analysis are as follow:

-   Spatial data handling - **sf**, **rgdal** and **spdep**

-   Attribute data handling - tidyverse, especially **readr**, **ggplot2**, **dplyr, funModeling**

-   Choropleth mapping - **tmap**

-   Multivariate data visualisation and analysis - **corrplot**, **ggpubr**, and **heatmaply**

-   Cluster analysis - **cluster**, and **ClustGeo**

```{r}
pacman::p_load(rgdal, spdep, tmap, sf, 
               ggpubr, cluster, factoextra, NbClust, funModeling,
               heatmaply, corrplot, psych, tidyverse, ClustGeo)
```
